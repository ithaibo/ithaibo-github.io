<h1 id="android权限申请">Android权限申请</h1>
<p>在Android 6.0（API &lt; 23）以前，App用到的权限只需要在AndroidManifest文件中声明就好了。在6.0以后，权限策略进行了更改，权限分为一般权限和危险权限。一般权限跟以前一样不用动态申请，应用安装完毕就已经授予；危险权限需要在使用的使用动态申请。</p>

<h2 id="一般权限">一般权限</h2>

<blockquote>
  <p><a href="https://developer.android.com/guide/topics/permissions/normal-permissions.html">If an app declares in its manifest that it needs a normal permission, the system automatically grants the app that permission at install time</a>.</p>
</blockquote>

<p>下面是一般权限列表：</p>

<ul>
  <li>ACCESS_LOCATION_EXTRA_COMMANDS</li>
  <li>ACCESS_NETWORK_STATE</li>
  <li>ACCESS_NOTIFICATION_POLICY</li>
  <li>ACCESS_WIFI_STATE</li>
  <li>BLUETOOTH</li>
  <li>BLUETOOTH_ADMIN</li>
  <li>BROADCAST_STICKY</li>
  <li>CHANGE_NETWORK_STATE</li>
  <li>CHANGE_WIFI_MULTICAST_STATE</li>
  <li>CHANGE_WIFI_STATE</li>
  <li>DISABLE_KEYGUARD</li>
  <li>EXPAND_STATUS_BAR</li>
  <li>GET_PACKAGE_SIZE</li>
  <li>INSTALL_SHORTCUT</li>
  <li>INTERNET</li>
  <li>KILL_BACKGROUND_PROCESSES</li>
  <li>MODIFY_AUDIO_SETTINGS</li>
  <li>NFC</li>
  <li>READ_SYNC_SETTINGS</li>
  <li>READ_SYNC_STATS</li>
  <li>RECEIVE_BOOT_COMPLETED</li>
  <li>REORDER_TASKS</li>
  <li>REQUEST_IGNORE_BATTERY_OPTIMIZATIONS</li>
  <li>REQUEST_INSTALL_PACKAGES</li>
  <li>SET_ALARM</li>
  <li>SET_TIME_ZONE</li>
  <li>SET_WALLPAPER</li>
  <li>SET_WALLPAPER_HINTS</li>
  <li>TRANSMIT_IR</li>
  <li>UNINSTALL_SHORTCUT</li>
  <li>USE_FINGERPRINT</li>
  <li>VIBRATE</li>
  <li>WAKE_LOCK</li>
  <li>WRITE_SYNC_SETTINGS</li>
</ul>

<h2 id="危险权限">危险权限</h2>
<p>像读取联系人这样，企图获取涉及用户隐私的数据或资源、潜在影响用户存储的数据及操作其他应用的行为都触及危险权限。</p>

<p>如果声明了危险权限，必须由用户授予相应的权限。</p>

<p>危险权限一般都是一组权限，如果该组中的一个权限被授予，同组其他的权限都将被自动授予。</p>

<p><a href="https://developer.android.com/guide/topics/permissions/requesting.html#normal-dangerous">危险权限列表</a></p>

<h2 id="动态权限申请">动态权限申请</h2>
<ol>
  <li>检查权限是否已经被授权</li>
  <li>申请权限</li>
  <li>如果已经授权成功，执行相关操作</li>
</ol>

<p>以下是相关代码：</p>

<pre><code class="language-Java">        // here, check the permission is granted or not
        if (ContextCompat.checkSelfPermission(mContext,
                Manifest.permission.CALL_PHONE)!=
                PackageManager.PERMISSION_GRANTED
        ) {
            // request permission
            ActivityCompat.requestPermissions(this,
                    new String[]{Manifest.permission.CALL_PHONE},
                    MY_PERMISSIONS_REQUEST_CALL_PHONE);
        } else {
            // do something
            callPhone("10086");
        }
</code></pre>

